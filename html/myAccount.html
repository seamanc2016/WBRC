<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>My Account</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel='stylesheet' href='../css/myAccount.css'>

    <!--CSS and Scripts for Card Payment System-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/imask/3.4.0/imask.min.js"></script>
    <script src="../js/cardPayment.js"></script>

</head>

<body>

    <div class="d-flex" id="wrapper">
        <!-- Sidebar
        <div class="border-end" id="sidebar-wrapper">
            <div class="sidebar-heading">MY ACCOUNT</div>
            <div class="list-group ">
                <a class="list-group-item list-group-item-action  p-3 sidebar-nav-item" 
                    href="#!">Personal Information</a>
                <a class="list-group-item list-group-item-action  p-3 sidebar-nav-item"  href="#!">Card
                    Information</a>
            </div>
        </div>
        -->
        <!-- Page content wrapper-->
        <div id="page-content-wrapper">
            <!-- Top navigation-->
            <nav class="navbar navbar-expand-lg navbar-light  border-bottom" id="top-navbar">
                <div class="container-fluid">
                    <!--
                    <button class="btn btn-primary" id="sidebarToggle">Toggle Menu</button>
                    -->
                    <div class="sidebar-heading" style="border-style: none; font-size: 13pt;">West Boca Retirement | My Account</div>
                    <button class="navbar-toggler" id="navbar-menu-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation"><span
                            class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto mt-2 mt-lg-0">
                            <li class="nav-item active"><a class="nav-link top-nav-item" id="top-nav-item-1"
                                    href="../html/dashboardPage.html">&leftarrow; Return to Dashboard</a></li>
                            <li class="nav-item"><a class="nav-link" onclick="logout()" id="top-nav-item-2"
                                    href="../index.html">Logout</a></li>
                        </ul>
                    </div>
                </div>
            </nav>


            <!-- Page content Goes Here-->
            <div class="container-fluid page-content">
                <!--Title and Instructions-->
                <div class="d-flex justify-content-center">
                    <h1 id="page-heading">ACCOUNT INFORMATION</h1>
                </div>

                <!--Account Info-->
                <section id="account-info">
                    <div class="row d-flex justify-content-around">
                        <!--
                        <div class="col-lg-3" id="profile-pic-container">
                            <div class="d-flex justify-content-center">
                                <img id="profile-pic" src="../assets/img/default-prof-pic.jpg" alt="default-prof-pic">
                            </div>
                            <input id="choose-file" type="file" name="profile-pic">
                        </div>
                        -->
                        <div class="col-lg-8 light-purple-bg">

                            <table class="table table-bordered" id="personal-info-table">
                                <tbody>
                                    <tr>
                                        <th scope="row">First Name</th>
                                        <td>
                                            <input class="personal-info" type="text" disabled />
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Last Name</th>
                                        <td>
                                            <input class="personal-info" type="text" disabled />
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Senior</th>
                                        <td>
                                            <select class="personal-info" name="isSenior" disabled>
                                                <option value="blank"></option>
                                                <option value="no">NO</option>
                                                <option value="yes">YES</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Household Size</th>
                                        <td>
                                            <input class="personal-info" type="number" value="" min="1" max="10"
                                                placeholder="" disabled />
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Number of Vehicles</th>
                                        <td>
                                            <input class="personal-info" type="number" value="" min="1" max="9"
                                                placeholder="" disabled />
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Unit Number</th>
                                        <td>
                                            <input class="personal-info" type="text" value="" maxlength="4"
                                                placeholder="" disabled />
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Street</th>
                                        <td>
                                            <input class="personal-info" type="text" disabled />
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Email</th>
                                        <td>
                                            <input class="personal-info" type="text" disabled />
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">Phone</th>
                                        <td>
                                            <input class="personal-info" type="text" maxlength="10"
                                                pattern="^[A-za-z]{10}" value="" placeholder="" disabled />
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="d-flex justify-content-center">
                                <button id="edit-button" onclick="enableInput()">Edit Info</button>
                                <button id="save-button" onclick="savePersonalInfo()">Save</button>
                            </div>
                        </div>
                    </div>

                </section>


                <!--Card Section-->
                <section id="card-info-area">
                    <!--If there is no card on file, show this-->
                    <div id="no-card-section">
                        <h2 class="card-heading">Current Card on File</h2>
                        <div>There is no card on file for this account.</div>
                        <button id="add-card-button" onclick="addCard()">Add Card</button>
                    </div>

                    <!--If "add card" button is clicked, show this-->
                    <div id="add-card-section">
                        <h2 class="card-heading">Add Card</h2>
                        <div id="card-info-container">
                            <div class="field-container">
                                <div class="row d-flex justify-content-center">
                                    <div class="col-9">
                                        <p>Card Number:</p>
                                    </div>
                                    <div class="col-2">
                                        <span id="generatecard">generate random</span>
                                    </div>
                                </div>
                                <div class="row d-flex justify-content-center">
                                    <div class="col-11">
                                        <input class="payment-info" id="cardnumber" type="text" pattern="[0-9]*"
                                            maxlength="19" inputmode="numeric">
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row d-flex justify-content-around">
                                <div class="col-5">
                                    <p>Expiration:</p>
                                    <input class="payment-info" id="expirationdate" type="text" pattern="[0-9]*"
                                        inputmode="numeric">
                                </div>
                                <div class="col-5">
                                    <p>CVV:
                                    <p>
                                        <input class="payment-info" id="securitycode" type="text" pattern="[0-9]*"
                                            maxlength="3" inputmode="numeric">
                                </div>
                            </div>
                            

                                <div class="d-flex justify-content-between">
                                    <img id="trust-badge" src="../assets/img/trust-badge.png" alt="trust-badge" />
                                    <button id="save-card-button" onclick="saveCard()">Save Card</button>
                                </div>



                        </div>



                    </div>

                    <!--If a card is already set, show this-->
                    <div id="current-card-section">
                        <h2 class="card-heading">Current Card on File</h2>
                        <h3 id="card-on-file">
                            <!--Will be injected by js-->
                        </h3>
                        <button id="remove-card-button" onclick="removeCard()">Remove Card</button>
                        <div id="autopay-off">
                            <div>
                                Autopay is currently OFF.
                            </div>
                            <button id="autopay-button-off" onclick="toggleAutopayOn()">Toggle Autopay On</button>
                        </div>
                        <div id="autopay-on">
                            <div>
                                Autopay is currently ON. Quarterly fees will be deducted from the card on file
                                automatically.
                            </div>
                            <button id="autopay-button-on" onclick="toggleAutopayOff()">Toggle Autopay Off</button>
                        </div>
                    </div>

                </section>

                <section id="reset-account-secton">
                    <div class="d-flex justify-content-center">
                        <button id="reset-button" onclick="resetAccount();">Reset Account</button>
                    </div>
                    <p style="font-weight:600; text-align: center;">Hitting this button will log you out and "reset" the account so that you can go through the New Resident Checklist / Quarterly Payment simulation as many times as you want.</p>
                </section>

            </div>
        </div>
    </div>








    <!--Firebase SDK-->
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <script src="../js/myAccount.js"></script>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <!--Needed for checklist to function-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

</body>

</html>